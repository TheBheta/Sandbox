package ctfs;

import java.math.BigInteger;

public class ScrambledRSA {
    private static BigInteger n = new BigInteger("60023124556966577501656255913590453837559590900793528784325201270443021534649054756659056751306094796279044723432139278574873900823006471780625600629784937032542773116200358975851392699814053375943710594609629983133850586607827918920852358927498250402764536696391421410959360595666883976109453885851775200823286683264958968922758471680871296595832663581040246587684416240501583541353831970131971608225772367515925511183954545068902918391251800794436009564063336900471092243708012996367343078922146435988385502012872352489034952075461659030566357981665666131904708434950302355523706445433369465575150018767895927277712306574399689733546017702610162941826181284394582498097330665329312957090639306074365598345796937912568432626997676848117453944090824495514305666799815139610238980597242269340007552594029360482310834374540158005128824324097697070274580080786367058579415644645810757954777732529476086280309952126996176713832871526306853509561179602824330233968027951395011370923615285840110077357375085645271078879711528957914905827859496827611945571863109007746496800668320601883057615878575707961690939667402996609128593603161770551361927230222550888104308675685814411109497715376780148178761794754530150411157493234925068950873161168971274062984061210520701354805626093948605082522517783883027341189845022962037855486611927764219528465659813049852926141639108167082519807172491524115268733292882437603578081360517137249671883687279877386078897265229509960091931294705687209989183908354995334987325666999847928722176397081469824253865374345430643631523436925755948378770950015196163300686996974204343213195911724389567821989522788854209427144549056060178633030356935989077542213150439609861221198480737023636213095053242437647916727816309140973009854178524798442331088042699981424769906902383309945711267290532401313794112097077383136643198306761256746684961572364683394156411053082273429167540911848714324435771270971519451467625723199730958679298430878545533520515109190645566232507935629975600024726835364068535100095674333259278861846660177934917259350097509235450993029780840340027031052495301230537202902524928297244868881409321119718769289154554632418527601320561573636493308556560229366833510346126767738841502945629283363603014223468571123496372791639815656362574040122102008366258566311520043207667461889433249207200261923703352169560411031365017888061463648166751284688158675708917921875305599674077568996419113108445856474507540069128748857373656750065551855520953060821115685456821898612036240946653538339049400616386081104606611166490844352392115703181787963683052076806128151775799343209132677323730214090541383351835528471650062947677782719307896746736501797137518384192593150744361227259289718192494164185581191461722759954392211474488237079848873206273915339559606609550819830318669862575599521988700419753257036918187199068415068210633441941346073462646682950234745702692338081762344666141339563067183790020138162089099777208504654055839577635686325476098839599628467589021234429459613701602770040787020446991631800132383174282799081302682704052338319623289865115236633029156870045999813553516966575896007984539236678911690127454870975110605242256014010885425321444950713193719797650798627704756761710665255795130301471976280940343922752858191013510151505312376707782480986796565194669838258580772574054993352495667642142695027134452605397516550110466172459988609359582894837488099909544084612654992120585498907163286640815248876328843481074207356934475859194047901359906824267724300123168390451261314096783960356408477842224945156684112631163751323265139670853568162816292564768140915439713847547074362863332678611255030878512726109459335710264894898441748312979687542439682249531175038570035035748211851064887344053576321088901624047794164672168567365681157025456762460250932534936863679628670175605881816421699260511107222433460454060734059479807111043290932564370813791289052677846625218041322487159672958850784925768248883098062771000643168536799827529139458682924996590631485148476323468107237316524898911315370407904164223605454024818567735960615805805449217923836213699792444979870515194053662295791423376107022447014275037270004517312911440157996210355802262895402838778901541153930881586929097462295960961858509042487148307556297666363653607260450076222649869313502213469119148145503802029399197698477520091110135612775793814565127203230749223436435473681075385141921519770230813285374571689404813937947995115325854436012285143230937378928263758916954696734057749408180176441114447008354413617570470148837317657988835935437590300544686502056806099276043761545491525155491821493665764183137227741948382027012671312077007829398184128080971976473278923386528060543941082856492353924737224003498197257648012677520245486071517535095104977095785830306966007440851917021073541585058813443921985273854456556789021208967158684483038932271128147901790745895565031311635733472238553758876136981246211741020654443815992988603192356461838230535731443445087813096521656285059105675181067052694232586032780902340703981905790789318943831782239406804251974711556540550020492354044490812835223799863133279382790918810232606796515386890585187932817925596364812834009662297898341598975476648561670961657200391754571537623844049149355725832189501669883804587253877318346140520581742705336203593011238427462816719505489510696524967661453966218276966292941277716454960579227084103855868810564850930562027365871592366234767961562356407206140698223233484652241088781176600999299943761995321638146024597421349734699799774738599020990140950709458173357813650013675389716626464900036817056129019680653103504265104829793592681164351826172038033462427754535927110682160469908413512449810559985238395922816556726244844274389911420244549802402854168167373854772313333654716727488695986421937777192740289006292041989841888399943824147337623946386009506882684998914624752232319588376372240940046277361076914218779552046052132774846759673551678315534388846626960272308453732642968144512806786469677037603212842287018156344336225408867991428903789236944858790042469962923782043155518518323597423035855621318793613942802697226331432918438095117939059371257440167738243885139712897452276004439860116539168478999491074218720944037933618845157599702840328235021238936309497370349178118885699409306205008903610441701860834743756514952837755167639569507169138513994682506948027304675637400756288438150354529495251844530276864709497393148633723238948930583315652069276291909369873786281368920613200972807646612637698636430252607735108129980488995461790717447784479915499212187120222724998305422133378268607834028137076879619754258464719998569821931452471276749443300134837509634634674641067080863583554199988758931971585116955637406416000462987928036081820417010842073660484909001146075156063628647309641765445145009435950509506183511936013253492241915180433216631637415805667066162173570638535653962144721419400626847601426712235813402234363559867681325557806733212034719871303701768047644124900326129489358951472496783558932827045191084373585739628408351250060358525736659321351686373561306111285956465280636450001347697607282580975130466101348504142002966680964330690650917782982860134284980013987782763198327861040773456301445504408112260530288638496769197597158315249392714996388252661713588996126618550980974239018790777626078529411534339475269245325489030294980498133152565153469905307121247881765266572755727047355546815413596193868952794115673200810161511031916703185721896134926592088960254462519274054418767249005180667578764113983666862602647125826491526532614129381205193504661189019304996738286109589890682305608912205054089942543540626073391584393056642091769473358106913613288820807755655396179131425526490210824082902837951765759879055449837794112207943611789856064505347549453197162870947332244848044325787957047721087656898087749569902074576592051091151427949937229171749971969831139136668213437911776249500210974341834127025191264743655722809831560130434433048094464048505056684486024472384082928829");
    private static BigInteger c = new BigInteger("77501794183092750398115248334696255592866168600124179799039377260534314930367499685825622474727286172062116450952738018711867934216456497735369219167991963389422309152609276835046096255797914312436317629074020331209682579765837916732530662490504530023384389228580780649432729228654091704330939558031193985849");
    private static int e = 65537;

    public static void main(String[] args) {
        System.out.println(c.bitLength());
        int len = c.bitLength();
        BigInteger lowBound = BigInteger.TWO.pow(1);
        BigInteger upBound = BigInteger.TWO.pow(len + 1);
        while (!upBound.equals(lowBound) && !upBound.subtract(BigInteger.ONE).equals(lowBound))
        {
            System.out.println(lowBound.bitLength() + ", " + upBound.bitLength());
            //System.out.println(lowBound + ", " + upBound);
            BigInteger middle = lowBound.add(upBound).divide(BigInteger.TWO);
            if (middle.pow(e).compareTo(c) > 0) {
                upBound = middle;
            } else {
                lowBound = middle;
            }
        }
        if (upBound.pow(e).equals(c))
            System.out.println(upBound);
        if (lowBound.pow(e).equals(c))
            System.out.println(lowBound);
    }
}